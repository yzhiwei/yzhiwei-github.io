<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/yzhiwei.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/yzhiwei.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/yzhiwei.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/yzhiwei.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/yzhiwei.github.io/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/yzhiwei.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/yzhiwei.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="dfs,">










<meta name="description" content="题面Problem DescriptionGeorge took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks to the original state, but he forgot how ma">
<meta name="keywords" content="dfs">
<meta property="og:type" content="article">
<meta property="og:title" content="深搜题（hdu1455)">
<meta property="og:url" content="https://github.com/yzhiwei/yzhiwei.github.io.git/2019/01/27/深搜题（hdu1455/index.html">
<meta property="og:site_name">
<meta property="og:description" content="题面Problem DescriptionGeorge took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks to the original state, but he forgot how ma">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-01-27T13:55:17.499Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="深搜题（hdu1455)">
<meta name="twitter:description" content="题面Problem DescriptionGeorge took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks to the original state, but he forgot how ma">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/yzhiwei.github.io/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://github.com/yzhiwei/yzhiwei.github.io.git/2019/01/27/深搜题（hdu1455/">





  <title>深搜题（hdu1455) | </title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/yzhiwei.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title"></span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/yzhiwei.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/yzhiwei.github.io/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/yzhiwei.github.io/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/yzhiwei.github.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/yzhiwei/yzhiwei.github.io.git/yzhiwei.github.io/2019/01/27/深搜题（hdu1455/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="yangzhiwei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/yzhiwei.github.io/images/touxiang.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">深搜题（hdu1455)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-27T21:12:09+08:00">
                2019-01-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h1><p>Problem Description<br>George took sticks of the same length and cut them randomly until all parts became at most 50 units long. Now he wants to return sticks to the original state, but he forgot how many sticks he had originally and how long they were originally. Please help him and design a program which computes the smallest possible original length of those sticks. All lengths expressed in units are integers greater than zero.</p>
<p>Input<br>The input contains blocks of 2 lines. The first line contains the number of sticks parts after cutting, there are at most 64 sticks. The second line contains the lengths of those parts separated by the space. The last line of the file contains zero.</p>
<p>Output<br>The output file contains the smallest possible length of original sticks, one per line.</p>
<p>Sample Input<br>9<br>5 2 1 5 2 1 5 2 1<br>4<br>1 2 3 4<br>0</p>
<p>Sample Output<br>6 5</p>
<h1 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h1><p>给定n个已经被分割棒子的长度，如题面中的1，2，3，4.代表4个被分割绳子的长度，要求求出原绳子的最小长度（原绳子等长）即本题绳子长度为5，5=2+3，5=1+4</p>
<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>首先我们应该确定绳子的长度，绳子的最小长度应该为被分割绳子的最长长度，绳子的最大长度应该为被分割绳子的总长度<br>max（1，2，3，4）&lt;绳长&lt;sum(1,2,3,4)</p>
<p>下面我们应该应该排除一些情况<br>1.sum=10，那么绳长就不应该是9，8，7，6，4，3<br>2.max=4，那么绳长就不应该是1，2，3<br>综合以上情况，绳长的可能性应该是9，8，7，6，4</p>
<p>下面就应该是对绳子组合的一些具体排除<br>（要对绳子长度从大到小排序）</p>
<ol>
<li><p>如绳子长度为8，7，3，2<br>我们选取最小值为8，对于7而言，7+1=8，而在后面并没有出现1，此时，我们便可以排除8这一种情况。</p>
</li>
<li><p>若绳子长度为8，6，3，3<br>我们选取最小值为8，对于6而言，6+2=8；此时3不符合情况，对后面的3可以直接跳过</p>
</li>
</ol>
<p>#代码实现</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;algorithm&gt;
using namespace std;
int n,cnt,sum;//n表示木棍的数量，sum表示n个木棍的总长度，cnt=sum/i;
struct node
{
  int lenth ;// 木棍的长度
  int mark; //标记这根木棍是否被用过;
 }stick[66];             
int cmp(node a,node b) //按长度从大到小排序
{
 return a.lenth&gt;b.lenth;
}                        //比较排序
//len为当前木棒的长度，count统计当前长度木棒的数量，
int dfs(int len,int count,int l,int pos)
{
if(len==sum) return 1; //递归出口
if(count==cnt)   return 1; //这个写不写都无所谓，上面一行就ok
for(int i=pos;i&lt;n;i++)
{           
  if(stick[i].mark)continue; //如果木棍被标记过，跳过去
  if(len==(stick[i].lenth+l))
  {
      stick[i].mark=1;  //修改标记
      if(dfs(len,count+1,0,0))  return 1;
      stick[i].mark=0;  //标记还原
      return 0;
  }
  else if(len&gt;(stick[i].lenth+l))
  {
      stick[i].mark=1;
      l+=stick[i].lenth;
      if(dfs(len,count,l,i+1))
         return 1;
      l-=stick[i].lenth;  //如果不能拼接，那么就恢复
      stick[i].mark=0;
      if(l==0) return 0;
      while(stick[i].lenth==stick[i+1].lenth)i++;  //这是一条非常重要的剪枝，可以极大的降低时间复杂度
 return 0;
}
int main()
{
    while(cin&gt;&gt;n&amp;&amp;n) 
    {
       cnt=sum=0;
       for(int i=0;i&lt;n;i++)
       {
           cin&gt;&gt;stick[i].lenth;
           sum+=stick[i].lenth;
           stick[i].mark=0; //初始标记为0
       }
       sort(stick,stick+n,cmp); //对长度进行排序
       for(int i=stick[0].lenth;i&lt;=sum;i++)
       {
          if(sum%i)continue; //对长度进行选择
          cnt=sum/i;  
          if(dfs(i,0,0,0))
          {
             printf(&quot;%d\n&quot;,i);
             break;
          }
       }
    }
    return 0;
}
</code></pre><h1 id="dfs最关键的代码结构块"><a href="#dfs最关键的代码结构块" class="headerlink" title="dfs最关键的代码结构块"></a>dfs最关键的代码结构块</h1><pre><code>void dfs()//参数用来表示状态  
{  
if(到达终点状态)  
{  
    ...//根据题意添加  
    return;  
}  
if(越界或者是不合法状态)  
    return;  
if(特殊状态)//剪枝
    return ;
for(扩展方式)  
{  
    if(扩展方式所达到状态合法)  
    {  
        修改操作;//根据题意来添加  
        标记；  
        dfs（）；  
        (还原标记)；  
        //是否还原标记根据题意  
        //如果加上（还原标记）就是 回溯法  
    }  

}  
}  
</code></pre><h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>这是做过的第一道深搜题，还是不能够完全理解递归的过程。dfs题型很多，需要多多总结。</p>
<p>sort排序的一种新形式get</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/yzhiwei.github.io/tags/dfs/" rel="tag"> <i class="fa fa-tag"></i>dfs</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/yzhiwei.github.io/2019/01/27/将sublime用来写c-c-程序/" rel="next" title="将sublime用来写c/c++程序">
                <i class="fa fa-chevron-left"></i> 将sublime用来写c/c++程序
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/yzhiwei.github.io/2019/01/30/独立数据结构和算法—stl/" rel="prev" title="独立数据结构和算法—stl">
                独立数据结构和算法—stl <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/yzhiwei.github.io/images/touxiang.png" alt="yangzhiwei">
            
              <p class="site-author-name" itemprop="name">yangzhiwei</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/yzhiwei.github.io/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/yzhiwei.github.io/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yzhiwei" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:1452838975@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#题面"><span class="nav-number">1.</span> <span class="nav-text">题面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#题意"><span class="nav-number">2.</span> <span class="nav-text">题意</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#分析"><span class="nav-number">3.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dfs最关键的代码结构块"><span class="nav-number">4.</span> <span class="nav-text">dfs最关键的代码结构块</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#思考"><span class="nav-number">5.</span> <span class="nav-text">思考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yangzhiwei</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">3.3k</span>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/yzhiwei.github.io/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/yzhiwei.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/yzhiwei.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/yzhiwei.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/yzhiwei.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/yzhiwei.github.io/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/yzhiwei.github.io/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/yzhiwei.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  
  <script type="text/javascript" src="/yzhiwei.github.io/js/src/exturl.js?v=5.1.4"></script>


<script src="/yzhiwei.github.io/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
